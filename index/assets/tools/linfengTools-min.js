function myToolNullValue(value){if(value===null||value===undefined||value===""||value.length===0){return true}else{return false}}function ifNull(par){if(par===undefined||par===null||par===""||par.trim().length===0){return true}return false}function myToolGetQueryVariable(variable){let query=window.location.search.substring(1);let vars=query.split("&");for(let i=0;i<vars.length;i++){let pair=vars[i].split("=");if(pair[0]==variable){return pair[1]}}return false}function myToolUseTheText(textArr){var getRandomColor=function(){return"#"+function(h){return new Array(7-h.length).join("0")+h}((Math.random()*16777216<<0).toString(16))};var showText=function(textArr){if(!textArr||textArr.length==0){return}var index=0;document.documentElement.addEventListener("click",function(e){var x=e.pageX;var y=e.pageY;var text=document.createElement("span");text.setAttribute("class","text_popup");this.appendChild(text);if(textArr[index]){text.innerHTML=textArr[index]}else{index=0;text.innerHTML=textArr[index]}text.style.color=getRandomColor();text.addEventListener("animationend",function(){text.parentNode.removeChild(text)},false);if(x<text.clientWidth){text.style.left=x+"px"}else if(text.clientWidth>document.documentElement.clientWidth-x){text.style.left=x-text.clientWidth+"px"}else{text.style.left=x-text.clientWidth/2+"px"}text.style.top=y-text.clientHeight/2+"px";index++},false)};if(myToolNullValue(textArr)){textArr=["林风最帅","冠哥666","心之所向","素履以往~","浮生如梦","岁月如舟"]}showText(textArr)}function myToolTitleText(leave,retur,selectedTitleText){let titleTime=0;const selfTitle=document.title;const arrTitleTexts=["(┬＿┬)别不理我","o(*￣▽￣*)ブ欢迎回来",selfTitle];if(!myToolNullValue(leave)){arrTitleTexts[0]=leave}if(!myToolNullValue(retur)){arrTitleTexts[1]=retur}if(!myToolNullValue(selectedTitleText)){arrTitleTexts[2]=selectedTitleText}document.addEventListener("visibilitychange",function(){if(document.hidden){document.title=arrTitleTexts[0];clearTimeout(titleTime)}else{document.title=arrTitleTexts[1];titleTime=setTimeout(function(){document.title=arrTitleTexts[2]},2e3)}})}function myToolIfGoMobile(url){if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)){if(!myToolNullValue(url)){window.location.href=url}return true}return false}function myToolIfMobile(){if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)){return false}else{return true}}function myToolFormatDateDefault(date){if(myToolNullValue(date)){date=new Date}let YY=date.getFullYear()+"-";let MM=(date.getMonth()+1<10?"0"+(date.getMonth()+1):date.getMonth()+1)+"-";let DD=date.getDate()<10?"0"+date.getDate():date.getDate();let hh=(date.getHours()<10?"0"+date.getHours():date.getHours())+":";let mm=(date.getMinutes()<10?"0"+date.getMinutes():date.getMinutes())+":";let ss=date.getSeconds()<10?"0"+date.getSeconds():date.getSeconds();return YY+MM+DD+" "+hh+mm+ss}function myToolFormatDate(date,fmt){if(typeof date==="string"){fmt=date;date=new Date}if(myToolNullValue(date)){date=new Date}if(myToolNullValue(fmt)){fmt="YYYY-MM-DD hh:mm:ss"}let ret;const opt={"Y+":date.getFullYear().toString(),"M+":(date.getMonth()+1).toString(),"D+":date.getDate().toString(),"h+":date.getHours().toString(),"m+":date.getMinutes().toString(),"s+":date.getSeconds().toString()};for(let k in opt){ret=new RegExp("("+k+")").exec(fmt);if(ret){fmt=fmt.replace(ret[1],ret[1].length==1?opt[k]:opt[k].padStart(ret[1].length,"0"))}}return fmt}function myToolRegexContainSpecial(str){let containSpecial=RegExp(/[(\ )(\~)(\!)(\@)(\#)(\$)(\%)(\^)(\&)(\*)(\()(\))(\-)(\+)(\=)(\[)(\])(\{)(\})(\|)(\\)(\;)(\:)(\')(\")(\,)(\.)(\/)(\<)(\>)(\?)(\)]+/);return containSpecial.test(str)}function myToolRegexContainSpecialMore(str){let containSpecial=RegExp(/[(\ )(\~)(\!)(\@)(\#)(\$)(\%)(\^)(\&)(\*)(\()(\))(\-)(\+)(\=)(\[)(\])(\{)(\})(\|)(\;)(\')(\")(\,)(\.)(\<)(\>)(\?)(\)]+/);return containSpecial.test(str)}function myToolRegexCheckChinese(val){let reg=new RegExp("[\\u4E00-\\u9FFF]+","g");return reg.test(val)}function myToolRegexUser(str){boolOne=myToolRegexContainSpecial(str);boolTwo=myToolRegexCheckChinese(str);if(boolOne||boolTwo){return true}else{return false}}function mtlfRegexUser(str,star,end){let reg;let starNum=6;let endNum=16;if(!myToolNullValue(star))starNum=star;if(!myToolNullValue(end))endNum=end;reg=`^[a-zA-Z0-9_]{${starNum},${endNum}}$`;const regexp=new RegExp(reg);return regexp.test(str)}function mtlfRegexUserJson(str,json){let reg;let starNum=6;let endNum=16;if(!myToolNullValue(json)){if(!myToolNullValue(json.star))starNum=json.star;if(!myToolNullValue(json.end))endNum=json.end}reg=`^[a-zA-Z0-9_]{${starNum},${endNum}}$`;const regexp=new RegExp(reg);return regexp.test(str)}const myToolColorChange={rgbToHex:function(val){let r,g,b,a,regRgba=/rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([.\d]+))?\)/,rsa=val.replace(/\s+/g,"").match(regRgba);if(!!rsa){r=parseInt(rsa[1]).toString(16);r=r.length==1?"0"+r:r;g=(+rsa[2]).toString(16);g=g.length==1?"0"+g:g;b=(+rsa[3]).toString(16);b=b.length==1?"0"+b:b;a=+(rsa[5]?rsa[5]:1)*100;return{hex:"#"+r+g+b,r:parseInt(r,16),g:parseInt(g,16),b:parseInt(b,16),alpha:Math.ceil(a)}}else{return{hex:"无效",alpha:100}}},hexToRgb:function(val){let reg=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;let color=val.toLowerCase();let result="";if(reg.test(color)){if(color.length===4){let colorNew="#";for(let i=1;i<4;i+=1){colorNew+=color.slice(i,i+1).concat(color.slice(i,i+1))}color=colorNew}let colorChange=[];for(let i=1;i<7;i+=2){colorChange.push(parseInt("0x"+color.slice(i,i+2)))}result="rgb("+colorChange.join(",")+")";return{rgb:result,r:colorChange[0],g:colorChange[1],b:colorChange[2]}}else{result="无效";return{rgb:result}}}};function mtlfBgi(src,bgcBool,alpha,color,width){let bool=false;let al=.5;const bgi=document.getElementsByTagName("html")[0];bgi.style.backgroundImage=`url(${src})`;if(!myToolNullValue(bgcBool))bool=bgcBool;if(bool){const body=document.getElementsByTagName("body")[0];const bgc=document.createElement("div");bgc.className="bigBgc";body.appendChild(bgc);if(!myToolNullValue(alpha)){al=alpha;bgc.style.backgroundColor=`rgba(0,0,0,${al})`;if(!myToolNullValue(color)){const temp=myToolColorChange.hexToRgb(color);bgc.style.backgroundColor=`rgba(${temp.r},${temp.g},${temp.b},${al})`;if(!myToolNullValue(width)){bgc.style.width=width}}}}}function myToolregex(reg,str){const regexp=new RegExp(`${reg}`);const temp=regexp.test(str);return temp}const linfengTools={getData:myToolGetQueryVariable,animat:{text:myToolUseTheText},date:{fd:myToolFormatDateDefault,format:myToolFormatDate},color:{toHex:myToolColorChange.rgbToHex,toRgb:myToolColorChange.hexToRgb},bgi:mtlfBgi,titleText:myToolTitleText,equipment:{pc:myToolIfMobile,mobile:myToolIfGoMobile},ifNull:ifNull};